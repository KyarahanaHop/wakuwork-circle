#!/bin/sh
# Pre-commit hook for WakuWork Circle

echo "Running pre-commit checks..."

# Check if web app files are staged
if git diff --cached --name-only | grep -q "apps/web/"; then
    echo "Checking apps/web..."
    
    # Run color check
    pnpm check:colors
    if [ $? -ne 0 ]; then
        echo "Color check failed. Please fix color literals before committing."
        exit 1
    fi
    
    # Run lint
    pnpm lint
    if [ $? -ne 0 ]; then
        echo "Lint failed. Please fix the issues before committing."
        exit 1
    fi
fi

echo "Pre-commit checks passed!"
exit 0
