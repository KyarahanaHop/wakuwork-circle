# デザイン憲法

> **Version**: v0.1  
> **Updated**: 2026-02-02  
> **Authority**: UX方針の権威ファイル。仕様詳細は `docs/ssot/core.md` を参照。

---

## 1. 理念

WakuWork Circleは「同席作業＋応援」を核としたWebサービスです。以下の理念を堅持します。

### 1.1 交換性禁止（絶対条件）

**応援で以下を与えない**:
- 機能解放
- 優先権
- 通話権
- ランキング表示
- その他の特典

**代わりに提供するもの**:
- 演出（アニメーション、エフェクト、サウンド）
- 表示（応援メッセージの表示）
- 気持ち（配信者への支援の気持ち）

**理由**:
- 応援は「支援」であり「取引」ではない
- 金額による差別を作らない
- コミュニティの健全性を保つ

### 1.2 治安のUI強制

**必須の安全機能**:

1. **ルーム初回ロビー**: ルーム初回参加者は必ずロビー（承認待ち）を経由
   - 承認OFF設定でも、初回は必ずロビー
   - 2回目以降 + 承認OFF の場合のみ即入室

2. **通報/ブロック導線**: ワンクリックでアクセス可能
   - 参加者リストの各行に「...」メニュー
   - Kick / Mute / Ban / Report に即アクセス

3. **モデレーション支援**: 配信者が簡単に管理できるUI
   - 承認ロビー管理
   - ミュート期間選択（10/30/60分/セッション終了まで）
   - BAN一覧と解除

4. **自動フィルタ**: 不適切コンテンツの検出（将来的）

### 1.3 チャット制限

**作業中**: チャット不可。許可されるのは:
- スタンプ（初期4種: 挨拶/いいね/注目/眠い）
- 作業カテゴリ + 短文（短文は任意）

**休憩中**: テキストチャット可能
- ミュート対象は全アクション停止（閲覧のみ）

**理由**:
- 作業時間は集中を尊重
- 休憩時間は交流の場

### 1.4 応援者一覧の表示ルール

**煽り防止のため以下を禁止**:
- ランキング表示（金額順、回数順など）
- 累計金額の表示
- 「トップサポーター」等の称号

**許可される表示**:
- 時系列順の一覧（新しい順）
- 各応援: 表示名 + 金額 + 時刻

---

## 2. テーマ原則

### 2.1 Semantic Token駆動

色は「値」ではなく「役割」で指定する。

```css
/* Good */
color: var(--primary);
background: var(--surface);

/* Bad */
color: #2563eb;
background: #f8f9fa;
```

### 2.2 3テーマ必須

- **simple**: クリアでプロフェッショナル
- **cute**: パステル寄り（背景ほぼ白＋うっすらピンク）
- **cool**: ダーク寄り（落ち着いた青系）

### 2.3 data-theme属性による切り替え

```tsx
// ThemeProvider経由でhtml要素に設定
document.documentElement.setAttribute('data-theme', 'cute');
```

---

## 3. 禁止事項

- 応援額に応じた機能差別
- 配信者による視聴者ランキング表示
- 応援者の累計金額表示
- 不作為による不快感の放置
- 直接の色指定（CSS変数を必ず使用）
- テーマ固有の分岐（if theme === 'cute'など）

---

## 4. 推奨事項

- シンプルなアニメーション（過剰演出は避ける）
- コントラスト比の確保（アクセシビリティ）
- モバイルファーストのレスポンシブ設計
- キーボード操作のサポート

---

## 5. 用語統一

| 用語 | 定義 | 注意 |
|------|------|------|
| ルーム | 配信者の「器」。永続的。 | 「部屋」と書かない |
| セッション | 配信1回分。一時的。 | 「配信」と混同しない |
| セッションコード | 参加用英数字コード。自動生成。 | 「ルームコード」ではない |
| 合言葉 | 参加用パスフレーズ。手動設定。 | 「パスワード」ではない |
| ロビー | 承認待ちの待機場所。 | 「待機室」と書かない |
| 承認 | ロビーから入室を許可。 | 「許可」と書かない |
| ミュート | 全アクション禁止（閲覧のみ）。 | 「発言禁止」だけではない |
| ブロック/BAN | ルーム単位の永久禁止。 | 「キック」と混同しない |
| キック | セッションからの退出。 | 再入室可/不可は別設定 |
| 通報 | 運営への報告。 | 配信者→運営の方向 |

---

## 6. 参照

- 仕様コア: `docs/ssot/core.md`
- モデレーション詳細: `docs/ssot/moderation.md`
- フロー詳細: `docs/ssot/flows.md`
